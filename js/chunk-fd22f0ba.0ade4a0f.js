(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fd22f0ba"],{"0c5d":function(e,t,a){},"55ae":function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",(function(){return n}))},"631a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"index"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("用户列表")]),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",round:""},on:{click:function(t){return e.jump("userscreate")}}},[e._v("创建用户")])],1),a("div",{staticClass:"filter"},[a("el-input",{attrs:{placeholder:"请输入用户名",type:"text"},model:{value:e.uname,callback:function(t){e.uname=t},expression:"uname"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.handleSearch},slot:"append"})],1),a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}})],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData2}},[a("el-table-column",{attrs:{prop:"user_id",label:"编号",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"role_name",label:"所属角色",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"username",label:"用户名",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"mobile_phone",label:"手机号",width:"100",align:"center"}}),a("el-table-column",{attrs:{label:"冻结",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":"1","inactive-value":"0"},on:{change:function(a){return e.handleState(t.row.state,t.row.user_id)}},model:{value:t.row.state,callback:function(a){e.$set(t.row,"state",a)},expression:"scope.row.state"}},[e._v("\n                        >\n                    ")])]}}])}),a("el-table-column",{attrs:{prop:"reg_time",label:"注册时间"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",circle:""},on:{click:function(t){e.dialogVisible=!0}}},[e._v("分配角色")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){return e.handleDelete(t.row.user_id)}}})]}}])})],1),a("el-dialog",{attrs:{title:"角色分配",visible:e.dialogVisible,width:"50%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"当前账号",prop:"pass"}},[a("el-button",{attrs:{disabled:""}},[e._v("扫码用户sss")])],1),a("el-form-item",{attrs:{label:"当前角色",prop:"checkPass"}},[a("el-tag",{attrs:{type:"info"}},[e._v("普通用户")])],1),a("el-form-item",{attrs:{label:"选择角色",prop:"age"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value,color:"#909399"}})})),1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)],1),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.currentPage4,"page-sizes":[5,10,15,20],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData2Total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)},l=[],i=a("55ae"),r=(a("e680"),a("6e70"),a("365c")),s={created:function(){this.initData()},input:"",watch:{data:function(e){console.log(e),this.start_time=e[0],this.end_time=e[1],this.initData()}},methods:{handleState:function(e,t){var a=this;Object(r["l"])({state:e,user_id:t}).then((function(e){200===e.meta.state?a.$message.success(e.meta.msg):(a.$message.error(),e.meta.msg)}))},handleSearch:function(){this.pagenum=1,this.initData(),this.uname=""},initData:function(){var e=this;Object(r["i"])({pagenum:this.pagenum,pagesize:this.pagesize,uname:this.uname,start_time:this.start_time,end_time:this.end_time}).then((function(t){console.log(t),e.tableData2=t.data.list,e.tableData2Total=parseInt(t.data.total),e.loading=!1}))},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["b"])({user_id:e}).then((function(e){console.log(e),200===e.meta.state?(t.$message({type:"success",message:e.meta.msg}),t.initData()):t.$message({type:"error",message:e.meta.msg})}))}))},handleClose:function(e){this.$confirm("确认关闭？").then((function(t){e()})).catch((function(e){}))},handleSizeChange:function(e){console.log("每页 ".concat(e," 条")),this.pagesize=e,this.initData()},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),this.pagenum=e,this.initData()},changeDate:function(){this.start_time=this.date?this.date[0]:"",this.end_time=this.date?this.date[1]:""}},data:function(){var e,t=this,a=function(e,t,a){if(!t)return a(new Error("年龄不能为空"));setTimeout((function(){Number.isInteger(t)?t<18?a(new Error("必须年满18岁")):a():a(new Error("请输入数字值"))}),1e3)},n=function(e,a,n){""===a?n(new Error("请输入密码")):(""!==t.ruleForm.checkPass&&t.$refs.ruleForm.validateField("checkPass"),n())},l=function(e,a,n){""===a?n(new Error("请再次输入密码")):a!==t.ruleForm.pass?n(new Error("两次输入密码不一致!")):n()};return e={loading:!0,pagenum:1,pagesize:5,uname:"",start_time:"",end_time:"",tableData2:[],tableData2Total:0,data:[],options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],value:"",ruleForm:{pass:"",checkPass:"",age:""},rules:{pass:[{validator:n,trigger:"blur"}],checkPass:[{validator:l,trigger:"blur"}],age:[{validator:a,trigger:"blur"}]},dialogVisible:!1,search:"",date:[]},Object(i["a"])(e,"start_time",""),Object(i["a"])(e,"end_time",""),Object(i["a"])(e,"value1",!0),Object(i["a"])(e,"value2",!0),Object(i["a"])(e,"currentPage1",5),Object(i["a"])(e,"currentPage2",5),Object(i["a"])(e,"currentPage3",5),Object(i["a"])(e,"currentPage4",4),Object(i["a"])(e,"tableData",[{date:"1",roles:"管理员",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄",phone:"18888888888"},{date:"2",roles:"管理员",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄",phone:"18888888888"},{date:"3",roles:"管理员",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{date:"4",roles:"管理员",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄",phone:"18888888888"}]),e}},o=s,c=(a("ff89"),a("4ac2")),u=Object(c["a"])(o,n,l,!1,null,"f45ccf86",null);t["default"]=u.exports},"6e70":function(e,t,a){var n=a("e99b");n(n.S,"Number",{isInteger:a("bda0")})},bda0:function(e,t,a){var n=a("9cff"),l=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&l(e)===e}},ff89:function(e,t,a){"use strict";a("0c5d")}}]);